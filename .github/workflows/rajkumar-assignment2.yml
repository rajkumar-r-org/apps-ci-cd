name: Java Build and deploy Assignment2

on:
#    pull_request:
#      types: [opened, synchronize, reopened, closed]
#      branches:
#        - 'feature/app-deploy'
    push:
      branches:
        - 'feature/app-deploy'
    workflow_dispatch:

jobs:
  build-deploy:
    uses: rajkumar-r-org/build-template/.github/workflows/rajkumar-assignment2.yml@main
    secrets:
      azure-credentials: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_ASSIGNMENT_1 }}
    with:
      java-version: '11'
      pom-path: './java-app/pom.xml'
      app-name: 'rajkumar-assignmet1'
      package-path: './java-app/target/*.jar'
      artifact-name: 'java-app'
      env-name: 'Production'
      slot-name: 'Production'